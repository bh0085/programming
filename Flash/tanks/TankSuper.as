package tanks {		import mygraphics.Obj	import tanks.tank.Tank	import tanks.graphics.*	import tanks.tank.Exhaust	import physics.PhysSuper 	import physics.PhysUniverse	import flash.display.MovieClip	import flash.events.KeyboardEvent	import flash.ui.Keyboard 	import flash.utils.getTimer	import tanks.tank.tankscripts.*	import tanks.planets.Planet	import flash.events.MouseEvent	import flash.display.BlendMode		import flash.display.Shape	import flash.display.Sprite		import paths.PhysOutline	import paths.CtdOutline		public class TankSuper extends PhysSuper {		public static var enterPressed = false		public var theseTanks:Array		var p1:Planet		var p2:Planet				public var pathShape:Shape		public function TankSuper(){									thisUniverse = new PhysUniverse()			thisUniverse.setSuper(this)			newInverseSquareField(9*Math.pow(10,9))			newInverseSquareField(-6.67 * Math.pow(10, -11))				for (var i = 0; i <1; i++){				if(i == 0) {var radius = 200} else {radius = 100}				var planet = new Planet(radius)				if(i == 0){p1 = planet}				if(i == 1){p2 = planet}							var x0 =(i) * 200				var y0 = 0								//planet.setGraphic(new Planet1Detail())				planet.setCharge(0)				planet.setMass(Math.pow(10,18 ) )				planet.setStatic(  true )				//planet.setStaticIn(0,false)				//planet.setStaticIn(1,false)				planet.setXY([x0,y0])				addDrawnObject(planet)				}							theseTanks = new Array()			for (var j = 0; j < 1; j++){				var color   = Math.random() * 256 + Math.random() *Math.pow(256,2) + Math.random() * Math.pow(256,3)				addTank(color)				x0 = Math.random() * 200 + 200				y0 = Math.random() * 200 + 200				theseTanks[j].setXY([x0,y0])				if(j != 0 ) {theseTanks[j].addTankScript(new TankAIScript())}										}						theseTanks[0].uniCenter = true																		Exhaust.thisUniverse = thisUniverse									addChild(thisUniverse)			stage.addEventListener(KeyboardEvent.KEY_DOWN,thisKeyPress)						thisUniverse.scaleX = 1			thisUniverse.scaleY = 1			thisUniverse.x += 200			thisUniverse.y += 200			thisUniverse.setCustomChargeFieldToGravity(1)			thisUniverse.setCustomChargeFieldToElectric(0)					}				public function addTank(color:uint):void{			var t = new WholeTank()			var top = new TankTop()			var tankGfx = new MovieClip()			tankGfx.addChild(top)			var ts = new Shape()			ts.graphics.beginFill(color)			ts.mask = top			ts.blendMode = BlendMode.NORMAL			ts.graphics.drawRect(-200,-200,400,400)			tankGfx.addChild(ts)			tankGfx.addChild(t)			tankGfx.scaleX = .2			tankGfx.scaleY = .2			var theTank = new Tank(tankGfx)			addDrawnObject(theTank)			theseTanks.push(theTank)		}				public function thisKeyPress(event : KeyboardEvent):void{			var CharZ: Number = 122			if(!event.ctrlKey && !event.shiftKey){				if (event.keyCode == Keyboard.RIGHT)	{theseTanks[0].addTankScript(new tForward())}				if (event.keyCode == Keyboard.LEFT)		{theseTanks[0].addTankScript(new tBackward())}				if (event.keyCode == Keyboard.SPACE)		{theseTanks[0].addTankScript(new tChargeJump())}				if (event.keyCode == Keyboard.SHIFT)	{theseTanks[0].cancelMotion()}				if (event.keyCode == Keyboard.UP)	{theseTanks[0].addTankScript(new tTurretDown())}				if (event.keyCode == Keyboard.DOWN){theseTanks[0].addTankScript(new tTurretUp())}				//			}						if(event.shiftKey && !event.ctrlKey){				if (event.keyCode == Keyboard.SPACE)	{theseTanks[0].chargeTurret(1)}				if (event.keyCode == Keyboard.ENTER)	{enterPressed = !enterPressed}				if (event.keyCode == 66)	{theseTanks[0].chargeTurret(2)} //B KEY				if (event.keyCode == 8)	{setPaused(!isPaused)}///  DELETE KEY				if (event.keyCode == 68){PhysUniverse.toggleDebug = true} //D KEY				if (event.keyCode == 71){PhysUniverse.toggleGraphics = !PhysUniverse.toggleGraphics } //G KEY				if (event.keyCode == 80){thisUniverse.plotter.accepting = !thisUniverse.plotter.accepting} //P KEY				if (event.keyCode == 187){PhysUniverse.timestep *= 1.4 ; trace(Math.round(PhysUniverse.timestep * 20*100),"% Speed")}				if (event.keyCode == 189){PhysUniverse.timestep *= 1/1.4 ; trace(Math.round(PhysUniverse.timestep * 20*100) , "% Speed")}				if (event.keyCode == 57){stage.frameRate -=1;  trace(Math.round(stage.frameRate),"frameRate")} //9				if (event.keyCode == 48){stage.frameRate +=1 ; trace(Math.round(stage.frameRate) , "frameRate")} //0				if (event.keyCode == 74)	{						//J Key						var jumpScript = new tChargeJump()						jumpScript.triggerDetach = false												jumpScript.multiplier = .25						theseTanks[0].addTankScript(jumpScript)					}			}			if(event.ctrlKey){				if (event.keyCode == 8){PhysUniverse.universe.clearExtraGraphics()}				if (event.keyCode == Keyboard.SPACE)	{theseTanks[0].chargeTurret(2)}												}		}				public static function wait(interval:Number):void{			var t0 = flash.utils.getTimer()			var search = true			while(search){				if(flash.utils.getTimer() - t0 > interval){search = false}			}		}	}}