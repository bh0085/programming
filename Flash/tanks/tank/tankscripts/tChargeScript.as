package tanks.tank.tankscripts {		import flash.display.Shape	import flash.events.KeyboardEvent	import flash.ui.Keyboard	import physics.PhysUniverse		import tanks.projectiles.Bomb	import tanks.projectiles.StickyBomb	import tanks.projectiles.Projectile	import tanks.explosions.Explosion		public class tChargeScript extends TankScript{		public var thisProjectile:Projectile		public var thisExplosion:Explosion		var hasAdded:Boolean = false		public var type = 1		override public function beginScript():void{						if(howManyOfThisScript() < 2){			thisTank.stage.addEventListener(KeyboardEvent.KEY_UP,this.tfRelease)			hasAdded = true				} else {scriptDone = true}					}				function tfRelease(event:KeyboardEvent):void{			if( event.keyCode == Keyboard.SPACE ) { triggerFire() }		}				function triggerFire():void{						var initXY = [thisTank.getFiringX(),thisTank.getFiringY()]			var power = frame			var angle = thisTank.getFiringAngle()			var expl = thisExplosion			var proj = thisProjectile			var tank = thisTank						Projectile.initializeProjectile(proj,initXY,expl,tank,angle,power,5)			scriptDone = true		}				override public function advance(...args):void{						thisTank.rectMask.width = frame * 10			if (frame  > 10) {				triggerFire()				}		}		override public function endScript():void{			if (hasAdded){ 				thisTank.stage.removeEventListener(KeyboardEvent.KEY_UP,this.tfRelease)				thisTank.rectMask.width = 0			}		}		public function setExplosion(expl:Explosion):void{			thisExplosion = expl		}		public function setProjectile(proj:Projectile):void{			thisProjectile = proj		}	}}