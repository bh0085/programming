package code{		import flash.display.MovieClip	import flash.events.MouseEvent	import flash.events.Event	import Math		public class ForceArrow extends MovieClip{		public var thisarrow:MovieClip;		public var thisparent:MovieClip		public var forcex:Number;		public var forcey:Number;				public var x0:Number		public var y0:Number		public var clickx:Number		public var clicky:Number		public var dclickx:Number		public var dclicky:Number		public var lclick:Number		public var dragging:Boolean;				public function ForceArrow(arrow:MovieClip,parentclip:MovieClip):void{			thisarrow = arrow			thisparent = parentclip			dragging = 0			x0 = arrow.x			y0 = arrow.y			thisarrow.addEventListener(MouseEvent.MOUSE_DOWN,draghandler)			thisparent.addEventListener(MouseEvent.MOUSE_UP,uphandler)			thisarrow.addEventListener(Event.ENTER_FRAME,nextframe)						}					function draghandler(e:MouseEvent):void{			dragging = 1			clickx = mouseX			clicky = mouseY						dclickx = clickx - x0			dclicky = clicky - y0			lclick = Math.sqrt(Math.pow(dclickx,2) + Math.pow(dclicky,2)) / thisarrow.scaleX			}		function uphandler(e:MouseEvent):void{			dragging = 0			}		function nextframe(e:Event){			if (dragging) {				var dcurrx:Number = mouseX - x0				var dcurry:Number = mouseY - y0				var lcurr:Number = Math.sqrt((Math.pow(dcurrx,2) + Math.pow(dcurry,2)))				var scl:Number = (  lcurr / lclick)				var angle:Number = Math.atan(dcurry / dcurrx) * 360 / 2 / Math.PI				if (dcurrx < 0) { angle = angle + 180}				thisarrow.rotation = angle 				thisarrow.scaleX = scl				thisarrow.scaleY = scl				forcex = dcurrx / lclick				forcey = dcurry / lclick								trace(forcex)				trace(forcey)			}			}	}				}